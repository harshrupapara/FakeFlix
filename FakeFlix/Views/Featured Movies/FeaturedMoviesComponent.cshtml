@using Sitecore.Mvc
@using Sitecore.Data.Items
@using FakeFlix.Models


<div class="masonry-wrapper">
    <div class="masonry-component">
        <div class="container d-flex justify-content-center">
            <div class="row">
                <div class="col-12">
                    <div class="masonry-title text-center">
                        <h3>@Html.Sitecore().Field("FeaturedMovieTitle")</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid">
            <!-- Step 2: Add grid items--->

            @{
                foreach (FeaturedMoviesItem items in Model.FeaturedMovieList)
                {
                    //Sitecore.Data.Fields.LinkField links = items.FeaturedMovieDetails.Fields[""];

                    string itemUrl = Sitecore.Links.LinkManager.GetItemUrl(items.FeaturedMovieDetails).Replace("/Horizontal/FakeFlix/Home", "");
                    <div class="grid-item">
                        <a href="@itemUrl" class="image-link">
                            <div>
                                @Html.Sitecore().Field("FeaturedMovieImage", items.FeaturedMovieDetails, new { @class = "grid-image", @alt = "ImageAnProbably" })
                            </div>
                            
                            <span class="image-caption">@Html.Sitecore().Field("MovieTitle", items.FeaturedMovieDetails)</span>
                            <span class="image-caption2">@Html.Sitecore().Field("MovieReleaseYear", items.FeaturedMovieDetails)</span>
                        </a>
                    </div>
                }
            }
        </div>
    </div>
</div>